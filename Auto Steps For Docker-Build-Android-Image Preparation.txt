                                     Create Android Build Docker Automatically


1. cd /media/common/USERS/IgorR/YiDocker/dev/devenv/Build/jenkins_slave_docker/Linux-ADAS-Android-Builds/Android

2. 
  a. pv /media/common/DOCKER_IMAGES/Jenkins-Slaves/yi-adas-python3.6-build.tar | docker load

  b. docker tag 4edb2a66fb05 yi/adas:python3.6-build
  
  ############### Only if yi-adas-python3.6-build.tar not exist #########################

  c. docker build -f Dockerfile.Python3.6-Build -t yi/adas:python3.6-build .

3. docker build -f Dockerfile.Python3.6-Build-Android -t yi/adas-build:android .

4. docker run -it -d --name build-linux-tf -v /media:/media yi/adas:python3.6-build

   docker run -it -d --name build-linux-tf -v /media:/media yi/adas-build:android
   
   yi-dockeradmin build-linux-tf
   

                                     Manual Build Steps

6. git clone --recurse-submodules https://github.com/tensorflow/tensorflow.git

7. cd tensorflow

8. bash configure

9. Please specify the location of python. [Default is /usr/local/bin/python]: -->> [Enter]

10. Found possible Python library paths:
    /usr/local/lib/python3.6/site-packages
    Please input the desired Python library path to use.  Default is [/usr/local/lib/python3.6/site-packages] -->> [Enter]

11. Do you wish to build TensorFlow with XLA JIT support? [Y/n]: -->> N

12. Do you wish to build TensorFlow with OpenCL SYCL support? [y/N]: -->> N

14. Do you wish to build TensorFlow with ROCm support? [y/N]: -->> N

15. Do you wish to build TensorFlow with CUDA support? [y/N]: -->> N

16. Do you wish to download a fresh release of clang? (Experimental) [y/N]: -->> N

17. Do you wish to build TensorFlow with MPI support? [y/N]: -->> N

18. Please specify optimization flags to use during compilation when bazel option "--config=opt" is specified [Default is -march=native -Wno-sign-compare]: -->> N

19. Would you like to interactively configure ./WORKSPACE for Android builds? [y/N]: -->> Y

20. Please specify the home path of the Android NDK to use. [Default is /root/Android/Sdk/ndk-bundle]: /root/devel/ndk

21. Please specify the (min) Android NDK API level to use. [Available levels: ['16', '17', '18', '19', '21', '22', '23', '24', '26', '27', '28']] [Default is 18]: -->> 28

22. Please specify the home path of the Android SDK to use. [Default is /root/Android/Sdk]: /root/devel/android-sdk-linux

23. Please specify the Android SDK API level to use. [Available levels: ['28']] [Default is 28]:  -->> 28

24. Please specify an Android build tools version to use. [Available versions: ['28.0.0']] [Default is 28.0.0]: -->> [Enter]

25. bazel build -c opt --config=android_arm --cxxopt='--std=c++11' --copt=-DTFLITE_PROFILING_ENABLED tensorflow/lite/tools/benchmark:benchmark_model

26. cd /tensorflow/bazel-bin/tensorflow/lite/tools

27. tar cpf - benchmark -P | pv -s $(du -sb benchmark | awk '{print $1}') >/media/common/NotForBackup/benchmark.tar
   
 




